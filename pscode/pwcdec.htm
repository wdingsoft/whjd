<html>

<head>
    <title onclick="alert();">Pwd</title>
    <META http-equiv="Content-Type" content="text/html;" charset="UTF-8">
    <META name="viewport" content="width=device-witdh, initial-scale=1, maximum-scale=1, user-scale=0">

    <script src="./jq/jquery.js" xxxsrc="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="./jq/encdatary.js"></script>

    <!------->
    <base target="_blank" />

    <style>
        .Buffer {
            background-color: rgb(229, 250, 215);
        }

        .jinxian {
            background-color: rgb(230, 184, 127);
        }

        .jcli {
            background-color: cadetblue;
        }

        .familast3 {
            font-size: xx-small;
        }

        .pretxt {
            background-color: cyan;
        }

        .othertxt {
            xvisibility: hidden;
        }

        .capton {
            font-size: large;
            margin-right: 10px;
        }

        .capton_hili {}

        section[title='Set(Buffer)'] {
            background-color: lightgray;
        }

        section[title='WEID'] {
            background-color: cornflowerblue;
        }

        section[title='JXD1119'] {
            background-color: rgb(242, 182, 212);
        }
    </style>
    <script>
        $(function () {

            gen_list()
        })
        function init() {
            $(".encrptA").on("click", function () {
                var tx = $(this).text()
                var cdtype = $(this).attr("codtype")
                var tx2 = Coding_A(tx, cdtype)
                if (cdtype === "DECODEA" || cdtype === undefined) {
                    $(this).attr("codtype", "ENCODEA")
                } else {
                    $(this).attr("codtype", "DECODEA")
                }
                $(this).text(tx2)
            })


            $(".Jclunarbirthday").on("click", function () {
                var str = prompt("JcLunarBirthMonthDayEncoded(4b):")
                $(this).text(Coding_A(str, "DECODEA"))
            })
            $(".familast3").on("click", function () {
                var str = prompt("childadma(3b):")
                $(this).text(str)
                $(this).removeClass("familast3")
            })
            $(".williamsname").on("click", function () {
                $(this).text("williamwding")
            })

            $(".togclick").on("click", function () {
                $(this).text($(this).attr("val"))
            })

            $('.togglenext').on("click", function () {
                $(this).next().toggleClass("othertxt")
            })


            $(".capton").on("click", function () {
                $(this).toggleClass("capton_hili")
                var txt = $(this).text()
                $(`section.${txt}`).slideToggle()

            })
        }
        function Coding_A(codestr, cdtype) {
            var DECODEA = {
                o: 0, a: 1, t: 2, r: 3, f: 4, v: 5, x: 6, s: 7, e: 8, n: 9,
                O: 0, A: 1, T: 2, R: 3, F: 4, V: 5, X: 6, S: 7, E: 8, N: 9,
            }
            var ENCODEA = {
                0: "o", 1: "a", 2: "t", 3: "r", 4: "f", 5: "v", 6: "x", 7: "s", 8: "e", 9: "n",
                //0: "O", 1: "A", 2: "T", 3: "R", 4: "F", 5: "V", 6: "X", 7: "S", 8: "E", 9: "N",
            }
            var MyCoding = {}
            if (cdtype === "DECODEA" || cdtype === undefined) {
                MyCoding = DECODEA
            } else {
                MyCoding = ENCODEA
            }
            var tx2 = ""
            for (var i = 0; i < codestr.length; i++) {
                tx2 += MyCoding[codestr[i]] === undefined ? codestr[i] : MyCoding[codestr[i]]
            };

            return tx2;
        }

        function fountmost2() {
            const sbs = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
            const num = "0123456789"
            var maxlen = -1
            var stot = sbs + sbs.toLowerCase() + num
            for (var i = 0; i < stot.length; i++) {
                var cha = stot.charAt(i)
                for (var j = 0; j < stot.length; j++) {
                    var chb = stot.charAt(j)
                    var searchstr = cha + chb
                    var reg = new RegExp(searchstr, "g")
                    var mat = encdatstr.match(reg)
                    if (mat) {
                        if (mat.length > maxlen) {
                            maxlen = mat.length
                            console.log(mat.length, searchstr)
                        }
                    }
                }
            }
            var reg = new RegExp("1b", "g")
            var mat = encdatstr.match(reg)
            //console.log(mat)
        }
        function gen_list() {
            var key = prompt("private key:")
            try {
                var decdatstr = decodeURIComponent(escape(atob(encdatary.join(key))))
                var decdatObj = JSON.parse(decdatstr)
            } catch (err) {
                console.error(err)
            }
            var sli = ""
            for ([cat, obj] of Object.entries(decdatObj)) {
                sli += `<section title='${cat}'><h3>${cat}</h3><ol>`
                for ([itm, obj2] of Object.entries(obj)) {
                    sli += `<li><h5>${itm}</h5><ol>`
                    for ([key, str] of Object.entries(obj2)) {
                        sli += `<li>${key}:${str}</li>`
                    }
                    sli += "</ol></li>"
                }
                sli += "</section><hr/>"
            }
            $(".Buffer").html(sli)

            var str = JSON.stringify(decdatObj, null, 4)
            var arr = btoa(unescape(encodeURIComponent(str))).split("1")
            //$("#encdatstr").val(JSON.stringify(arr, null, 4))
        }

    </script>
</head>

<body>
    <pre>

    ——————————
    0123456789
    ——————————
    OATRFVXSENey
    ——————————
    oatrfvxsen
    ——————————
    
    
    
</pre>
    <section class="Buffer">

    </section>

    <textarea id="encdatstr">

    </textarea>

</body>

</html>